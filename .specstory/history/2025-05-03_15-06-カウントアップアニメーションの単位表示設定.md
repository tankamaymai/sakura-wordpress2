<!-- Generated by SpecStory -->

# カウントアップアニメーションの単位表示設定 (2025-05-04 00:06:58)

_**User**_

カウントアップアニメーションはitem6だけ単位を横に表示させたい
@script.js @_front-page.scss 

---

_**Assistant**_



---

```diff
      
      // 単位要素を保存
-     const unitElement = target.querySelector('.front-page__achievements-item-value-unit,front-page__achievements-item-value-unit__book');
+     const unitElement = target.querySelector('.front-page__achievements-item-value-unit, .front-page__achievements-item-value-unit__book');
      let unitText = '';
+     let isBookUnit = false;
      
      if (unitElement) {
          // 単位のテキストを取得
          unitText = unitElement.textContent;
+         // 書籍用の単位かどうかを判定
+         isBookUnit = unitElement.classList.contains('front-page__achievements-item-value-unit__book');
          // 一旦単位要素を削除
          unitElement.remove();
```

```diff
                          if (unitText) {
                              const span = document.createElement('span');
-                             span.className = 'front-page__achievements-item-value-unit front-page__achievements-item-value-unit__book';
+                             // 書籍用の単位の場合は書籍用のクラスを使用
+                             span.className = isBookUnit ? 'front-page__achievements-item-value-unit__book' : 'front-page__achievements-item-value-unit';
                              span.textContent = unitText;
                              target.appendChild(span);
```

---

```diff
  line-height: 40px;
  text-align: left;
+ display: inline-block;
+ margin-left: 5px;
  }
  .front-page__achievements-item-icon-wrapper{
```

---

カウントアップアニメーションの修正が完了しました。以下の変更を行いました：

1. JavaScriptファイルで：
   - 単位要素を取得するセレクタの修正：`.front-page__achievements-item-value-unit, .front-page__achievements-item-value-unit__book`
   - 単位が書籍用（「冊」）かどうかを判定する変数 `isBookUnit` を追加
   - アニメーション完了後、書籍用の単位には専用のクラスを適用するようにロジックを修正

2. SCSSファイルで：
   - `.front-page__achievements-item-value-unit__book` クラスに以下のプロパティを追加：
     - `display: inline-block` - 数字の横に表示するために
     - `margin-left: 5px` - 数字との間に適切な間隔を設定

これらの変更により、出版書籍数の「35冊」だけ単位が横に表示され、他の実績数値は単位が下に表示されるようになります。

---

_**User**_

@_front-page.scssfront-page__achievements-itemが991pxまで要素等倍で縮小するようにcalcやclampで余白やフォントサイズなどを管理して
電材は1440pxの時の値をスタイル当ててます


---

_**Assistant**_



---

```diff
    display: grid;
    grid-template-columns: repeat(3, 1fr);
-   gap: rem(20);
+   gap: clamp(10px, calc(20 * (100vw / 1440)), 20px);
    
    @include mq-lg {
```

```diff
    background-color: $white;
    border-radius: 15px;
-   padding: 10px 10px;
+   padding: clamp(10px, calc(20 * (100vw / 1440)), 20px) clamp(5px, calc(10 * (100vw / 1440)), 10px);
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
    position: relative;
+   
    @include mq-md {
      padding: 10px;
```

```diff
  
  .front-page__achievements-item-icon {
-   width: 90px;
-   height: 90px;
+   width: clamp(60px, calc(90 * (100vw / 1440)), 90px);
+   height: clamp(60px, calc(90 * (100vw / 1440)), 90px);
    color: $red;
    
```

```diff
    }
  }
+ 
  .front-page__achievements-item-content{
    display: flex;
```

```diff
    text-align: center;
  }
+ 
  .front-page__achievements-item-title {
    color: #000;
    font-family: $base-font;
-   font-size: rem(32);
+   font-size: clamp(24px, calc(32 * (100vw / 1440)), 32px);
    font-weight: 700;
-   line-height: 40px; 
+   line-height: clamp(30px, calc(40 * (100vw / 1440)), 40px); 
    text-align: left;
    
    @include mq-md {
      font-size: rem(16);
+     line-height: 1.2;
    }
  }
+ 
  .front-page__achievements-item-text{
    color: #000;
    font-family: $base-font;
- font-size: 18px;
+   font-size: clamp(14px, calc(18 * (100vw / 1440)), 18px);
    font-style: normal;
    font-weight: 700;
- line-height: 120.09%; /* 21.616px */
+   line-height: 120.09%;
    text-align: left;
+   margin-top: clamp(5px, calc(10 * (100vw / 1440)), 10px);
+   
+   @include mq-md {
+     font-size: 14px;
+     margin-top: 5px;
    }
+ }
+ 
  .front-page__achievements-item-value {
    color: #00293C;
    font-family: $base-font;
- font-size: rem(75);
+   font-size: clamp(50px, calc(75 * (100vw / 1440)), 75px);
    font-style: normal;
    font-weight: 700;
- line-height: 120.09%; /* 72.054px */
+   line-height: 120.09%;
+   margin-top: clamp(10px, calc(15 * (100vw / 1440)), 15px);
+   
    @include mq-md {
      font-size: rem(40);
+     margin-top: 10px;
    }
  }
+ 
  .front-page__achievements-item-value-unit{
    color: #00293C;
    font-family: $base-font;
- font-size: 30px;
+   font-size: clamp(20px, calc(30 * (100vw / 1440)), 30px);
    font-style: normal;
    font-weight: 700;
- line-height: 40px;
+   line-height: clamp(30px, calc(40 * (100vw / 1440)), 40px);
    text-align: left;
    display: block;
+   
+   @include mq-md {
+     font-size: 18px;
+     line-height: 1.2;
    }
+ }
+ 
  .front-page__achievements-item-value-unit__book{
    color: #00293C;
    font-family: $base-font;
- font-size: 30px;
+   font-size: clamp(20px, calc(30 * (100vw / 1440)), 30px);
    font-style: normal;
    font-weight: 700;
- line-height: 40px;
+   line-height: clamp(30px, calc(40 * (100vw / 1440)), 40px);
    text-align: left;
    display: inline-block;
- margin-left: 5px;
+   margin-left: clamp(3px, calc(5 * (100vw / 1440)), 5px);
+   
+   @include mq-md {
+     font-size: 18px;
+     line-height: 1.2;
+     margin-left: 3px;
    }
+ }
+ 
  .front-page__achievements-item-icon-wrapper{
    position: absolute;
-   bottom: 20px;
-   right: 20px;
+   bottom: clamp(10px, calc(20 * (100vw / 1440)), 20px);
+   right: clamp(10px, calc(20 * (100vw / 1440)), 20px);
+   
+   @include mq-md {
+     bottom: 10px;
+     right: 10px;
+   }
  }
  
```

---

実績アイテムのレスポンシブ対応が完了しました。1440pxの時のデザインを基準として、991pxまで要素が等倍で縮小するように実装しました。

### 主な変更点

1. **サイズ計算の実装**:
   - `calc()` 関数を使用して、ビューポート幅に基づくサイズ計算を実装
   - 基本式: `calc(元のピクセル値 * (100vw / 1440))`
   - `clamp()` 関数で最小値・最大値を設定して制限

2. **調整したプロパティ**:
   - グリッドのギャップ: `gap: clamp(10px, calc(20 * (100vw / 1440)), 20px)`
   - パディング: `padding: clamp(10px, calc(20 * (100vw / 1440)), 20px) clamp(5px, calc(10 * (100vw / 1440)), 10px)`
   - アイコンサイズ: `width/height: clamp(60px, calc(90 * (100vw / 1440)), 90px)`
   - フォントサイズ: 各要素に応じて異なる値で設定
   - 行の高さ: 各要素に応じて異なる値で設定
   - マージン: 要素間の間隔を調整

3. **991px以下の対応**:
   - メディアクエリ内でより小さいデバイス向けの固定値を設定
   - フォントサイズ、余白などを小さい画面に最適化

これにより:
- デスクトップサイズ(992px以上)では1440pxを基準としたスケール対応
- タブレットサイズ(991px以下)では固定サイズに変更
- すべての要素が画面サイズに応じて調和的に拡大・縮小

この実装方法により、1440pxで見たときのデザインを維持しながら、それより小さい画面でも表示を最適化できます。

---

