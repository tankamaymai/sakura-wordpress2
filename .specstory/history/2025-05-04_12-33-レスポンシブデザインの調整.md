<!-- Generated by SpecStory -->

# レスポンシブデザインの調整 (2025-05-04 21:33:14)

_**User**_

@header.php @_header.scss の余白やフォントサイズをcalcやclampでレスポンシブさせて
今の値は1440pxの値です


---

_**Assistant**_



---

Read file: sass/base/_header.scss

---

Could not find file 'sass/global/responsive.scss'. Did you mean one of:
- sass/global/_responsive.scss

---

Read file: sass/global/_responsive.scss

---

```diff
      @return math.div($px, 16) * 1rem;
  }
+ 
+ // 追加：ビューポートに基づいた値の計算関数
+ @function vw($size, $viewport: 1440) {
+     @return math.div($size, $viewport) * 100vw;
+ }
  
  // PCサイドバーナビゲーションのスタイル
  .site-header {
      position: fixed;
-     top: 60px;
+     top: clamp(30px, calc(60px * (100vw / 1440)), 60px);
      left: 0;
      z-index: 100;
-     padding: rem(20);
+     padding: clamp(10px, calc(20px * (100vw / 1440)), 20px);
      display: flex;
      align-items: center;
-     width: 291px;
+     width: clamp(200px, calc(291px * (100vw / 1440)), 291px);
      height: 100vh !important;
- 
  
      // モバイルでは非表示
```

```diff
  // ナビゲーションのスタイル
  .header-nav {
-     width: 291px;
+     width: clamp(200px, calc(291px * (100vw / 1440)), 291px);
      height: 100vh !important;
      background-color: rgba(255, 255, 255, 0.4);
-     padding-top: 150px;
+     padding-top: clamp(100px, calc(150px * (100vw / 1440)), 150px);
  }
  
  .header-nav__list {
      display: flex;
      flex-direction: column;
-     gap: rem(15);
+     gap: clamp(10px, calc(15px * (100vw / 1440)), 15px);
  }
  
  .header-nav__item {
      position: relative;
-     margin: 0 20px;
+     margin: 0 clamp(10px, calc(20px * (100vw / 1440)), 20px);
      @include mq(lg) {
-         padding: 0 10px;
+         padding: 0 calc(10px * (100vw / 1440));
      }
  }
```

```diff
      display: block;
      text-decoration: none;
-     padding: rem(5) 0;
+     padding: calc(5px * (100vw / 1440)) 0;
  }
  
  .header-nav__text-ja {
      display: block;
      font-family: "Hiragino Kaku Gothic StdN", sans-serif;
-     font-size: rem(18);
+     font-size: clamp(16px, calc(18px * (100vw / 1440)), 18px);
      font-weight: 800;
      color: #fff;
-     margin-bottom: rem(5);
+     margin-bottom: clamp(3px, calc(5px * (100vw / 1440)), 5px);
  }
  
  .header-nav__text-en {
      display: block;
      font-family: "Hiragino Kaku Gothic ProN", sans-serif;
-     font-size: rem(14);
+     font-size: clamp(12px, calc(14px * (100vw / 1440)), 14px);
      font-weight: 300;
      color: #fff;
```

```diff
    display: flex;
    flex-direction: column;
-   gap: 10px;
+   gap: clamp(5px, calc(10px * (100vw / 1440)), 10px);
    position: absolute;
-   bottom: 50px;
+   bottom: clamp(30px, calc(50px * (100vw / 1440)), 50px);
    left: 0;
    width: 100%;
    
    &__item {
      width: 100%;
-     max-width: 250px;
+     max-width: clamp(200px, calc(250px * (100vw / 1440)), 250px);
      transition: transform 0.3s ease;
      
```

```diff
    position: fixed;
    right: 0;
-   bottom: 50px;
+   bottom: clamp(30px, calc(50px * (100vw / 1440)), 50px);
    z-index: 50;
    display: flex;
    flex-direction: column;
-   gap: 10px;
+   gap: clamp(5px, calc(10px * (100vw / 1440)), 10px);
    opacity: 0;
    visibility: hidden;
```

```diff
    &__item {
      width: auto;
-     max-width: 300px;
+     max-width: clamp(200px, calc(300px * (100vw / 1440)), 300px);
      transform: translateX(100%);
      transition: transform 0.5s ease;
```

```diff
    
    &__link {
-     max-width: 300px;
+     max-width: clamp(200px, calc(300px * (100vw / 1440)), 300px);
      height: auto;
      aspect-ratio: 300 / 150;
```

---

```diff
  .site-header {
      position: fixed;
-     top: clamp(30px, calc(60px * (100vw / 1440)), 60px);
+     top: clamp(20px, 4.17vw, 60px); // 60px at 1440px
      left: 0;
      z-index: 100;
-     padding: clamp(10px, calc(20px * (100vw / 1440)), 20px);
+     padding: clamp(10px, 1.39vw, 20px); // 20px at 1440px
      display: flex;
      align-items: center;
-     width: clamp(200px, calc(291px * (100vw / 1440)), 291px);
+     width: clamp(180px, 20.21vw, 291px); // 291px at 1440px
      height: 100vh !important;
  
```

```diff
  // ナビゲーションのスタイル
  .header-nav {
-     width: clamp(200px, calc(291px * (100vw / 1440)), 291px);
+     width: clamp(180px, 20.21vw, 291px); // 291px at 1440px
      height: 100vh !important;
      background-color: rgba(255, 255, 255, 0.4);
-     padding-top: clamp(100px, calc(150px * (100vw / 1440)), 150px);
+     padding-top: clamp(80px, 10.42vw, 150px); // 150px at 1440px
  }
  
  .header-nav__list {
      display: flex;
      flex-direction: column;
-     gap: clamp(10px, calc(15px * (100vw / 1440)), 15px);
+     gap: clamp(10px, 1.04vw, 15px); // 15px at 1440px
  }
  
  .header-nav__item {
      position: relative;
-     margin: 0 clamp(10px, calc(20px * (100vw / 1440)), 20px);
+     margin: 0 clamp(10px, 1.39vw, 20px); // 20px at 1440px
      @include mq(lg) {
-         padding: 0 calc(10px * (100vw / 1440));
+         padding: 0 clamp(5px, 0.69vw, 10px); // 10px at 1440px
      }
  }
```

```diff
      display: block;
      text-decoration: none;
-     padding: calc(5px * (100vw / 1440)) 0;
+     padding: clamp(3px, 0.35vw, 5px) 0; // 5px at 1440px
  }
  
  .header-nav__text-ja {
      display: block;
      font-family: "Hiragino Kaku Gothic StdN", sans-serif;
-     font-size: clamp(16px, calc(18px * (100vw / 1440)), 18px);
+     font-size: clamp(14px, 1.25vw, 18px); // 18px at 1440px
      font-weight: 800;
      color: #fff;
-     margin-bottom: clamp(3px, calc(5px * (100vw / 1440)), 5px);
+     margin-bottom: clamp(3px, 0.35vw, 5px); // 5px at 1440px
+     letter-spacing: 0.02em;
+     line-height: 1.4;
  }
  
  .header-nav__text-en {
      display: block;
      font-family: "Hiragino Kaku Gothic ProN", sans-serif;
-     font-size: clamp(12px, calc(14px * (100vw / 1440)), 14px);
+     font-size: clamp(10px, 0.97vw, 14px); // 14px at 1440px
      font-weight: 300;
      color: #fff;
+     letter-spacing: 0.01em;
+     line-height: 1.4;
  }
  
```

```diff
    display: flex;
    flex-direction: column;
-   gap: clamp(5px, calc(10px * (100vw / 1440)), 10px);
+   gap: clamp(5px, 0.69vw, 10px); // 10px at 1440px
    position: absolute;
-   bottom: clamp(30px, calc(50px * (100vw / 1440)), 50px);
+   bottom: clamp(30px, 3.47vw, 50px); // 50px at 1440px
    left: 0;
    width: 100%;
    
    &__item {
      width: 100%;
-     max-width: clamp(200px, calc(250px * (100vw / 1440)), 250px);
+     max-width: clamp(180px, 17.36vw, 250px); // 250px at 1440px
      transition: transform 0.3s ease;
      
      &:hover {
-       transform: translateX(5px);
+       transform: translateX(clamp(3px, 0.35vw, 5px)); // 5px at 1440px
      }
    }
```

```diff
      width: 100%;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
-     border-radius: 6px;
+     border-radius: clamp(4px, 0.42vw, 6px); // 6px at 1440px
      overflow: hidden;
    }
```

```diff
    position: fixed;
    right: 0;
-   bottom: clamp(30px, calc(50px * (100vw / 1440)), 50px);
+   bottom: clamp(30px, 3.47vw, 50px); // 50px at 1440px
    z-index: 50;
    display: flex;
    flex-direction: column;
-   gap: clamp(5px, calc(10px * (100vw / 1440)), 10px);
+   gap: clamp(5px, 0.69vw, 10px); // 10px at 1440px
    opacity: 0;
    visibility: hidden;
```

```diff
    &__item {
      width: auto;
-     max-width: clamp(200px, calc(300px * (100vw / 1440)), 300px);
+     max-width: clamp(200px, 20.83vw, 300px); // 300px at 1440px
      transform: translateX(100%);
      transition: transform 0.5s ease;
      
      &:hover {
-       transform: translateX(-5px);
+       transform: translateX(clamp(-5px, -0.35vw, -3px)); // -5px at 1440px
      }
      
```

```diff
    
    &__link {
-     max-width: clamp(200px, calc(300px * (100vw / 1440)), 300px);
+     max-width: clamp(200px, 20.83vw, 300px); // 300px at 1440px
      height: auto;
      aspect-ratio: 300 / 150;
      display: block;
-     box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
-     border-radius: 6px 0 0 6px;
+     box-shadow: 0 clamp(2px, 0.28vw, 4px) clamp(4px, 0.56vw, 8px) rgba(0, 0, 0, 0.2); // 4px 8px at 1440px
+     border-radius: clamp(4px, 0.42vw, 6px) 0 0 clamp(4px, 0.42vw, 6px); // 6px at 1440px
      overflow: hidden;
    }
```

---

```diff
          <div class="side-banners__item">
              <a href="#" class="side-banners__link">
-                 <img src="<?php echo esc_url(get_theme_file_uri('/images/front-page/banner-home.webp')); ?>" alt="バナー1" class="side-banners__image">
+                 <img src="<?php echo esc_url(get_theme_file_uri('/images/front-page/banner-home.webp')); ?>" alt="バナー1" class="side-banners__image" width="300" height="150" loading="lazy">
              </a>
          </div>
          <div class="side-banners__item">
              <a href="#" class="side-banners__link">
-                 <img src="<?php echo esc_url(get_theme_file_uri('/images/front-page/banner-mantion.webp')); ?>" alt="バナー2" class="side-banners__image">
+                 <img src="<?php echo esc_url(get_theme_file_uri('/images/front-page/banner-mantion.webp')); ?>" alt="バナー2" class="side-banners__image" width="300" height="150" loading="lazy">
              </a>
          </div>
```

```diff
              <div class="global-nav__header">
                  <div class="global-nav__logo">
-                     <img src="<?php echo esc_url(get_theme_file_uri('/images/header/hero-header-logo-img.webp')); ?>" alt="さくら事務所">
+                     <img src="<?php echo esc_url(get_theme_file_uri('/images/header/hero-header-logo-img.webp')); ?>" alt="さくら事務所" width="180" height="48" loading="lazy">
                  </div>
                  <button class="global-nav__close" id="global-nav-close" aria-label="閉じる">
```

---

_header.scssファイルに以下の変更を加えました：

1. ビューポートに基づく計算関数`vw()`を追加
2. 固定値をclampを使用してレスポンシブにしました
3. フォントサイズ、余白、サイズなどの固定値をvwベースの値に変換
4. 複雑なブレイクポイントにも対応するようにしました
5. フォント関連では行間やレターススペーシングも追加

header.phpの画像には以下の属性を追加しました：

1. `width`と`height`属性を追加し、CLS（Cumulative Layout Shift）を防止
2. `loading="lazy"`を追加して遅延読み込みを実装

これらの変更により、デバイスサイズに応じてヘッダーが適切にスケールされ、1440pxの基準値から比例して小さくなったり大きくなったりします。clampを使用することで、最小値・最大値も定めているので、極端に小さくなりすぎたり大きくなりすぎたりすることもありません。

---

