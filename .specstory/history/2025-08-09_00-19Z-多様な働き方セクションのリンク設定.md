<!-- Generated by SpecStory -->

# 多様な働き方セクションのリンク設定 (2025-08-09 00:19Z)

_**User**_

多様な働き方セクションrecruit-workstyleのrecruit-workstyle__caseはリンクできるようにして
リンクはカスタムフィールドを設置してください

---

_**Assistant**_

◤◢◤◢◤◢◤◢◤◢◤◢◤◢
多様な働き方セクションのリンク機能実装を開始します。
◤◢◤◢◤◢◤◢◤◢◤◢◤◢

まず、現在のコードを確認して、リンク機能とカスタムフィールドを実装していきます。

---

## Todo List

- [-] page-recruit.phpを確認してrecruit-workstyleセクションの構造を把握
- [ ] functions.phpにカスタムフィールドを追加
- [ ] recruit-workstyle__caseにリンク機能を実装
- [ ] SCSSでリンクスタイリングを追加

---

Read file: undefined

---



---

## Todo List

- [x] page-recruit.phpを確認してrecruit-workstyleセクションの構造を把握
- [ ] functions.phpにカスタムフィールドを追加
- [ ] recruit-workstyle__caseにリンク機能を実装
- [ ] SCSSでリンクスタイリングを追加

---

recruit-workstyleセクションの構造を確認できました。現在4つの`recruit-workstyle__case`があります。次にカスタムフィールドを追加します。

---

## Todo List

- [x] page-recruit.phpを確認してrecruit-workstyleセクションの構造を把握
- [-] functions.phpにカスタムフィールドを追加
- [ ] recruit-workstyle__caseにリンク機能を実装
- [ ] SCSSでリンクスタイリングを追加

---

Read file: undefined

---

ファイルが大きいので、カスタムフィールド関連の部分を検索して確認します。

---



---

カスタムフィールドを実装している箇所が確認できました。functions.phpの末尾に多様な働き方セクション用のカスタムフィールドを追加します。

---

Read file: undefined

---

ファイルの末尾を確認しました。新しいカスタムフィールドを追加します。

---

The model provided an ambiguous search string to replace.

---

ファイルの末尾を正確に読み取り、追加します。

---

Read file: undefined

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/functions.php</summary>

undefined

**Chunk 1**
Lines added: 143, lines removed: undefined

```diff
@@ -3801,4 +3801,147 @@
      <?php
  }
+ 
+ // 採用ページ 多様な働き方セクション用カスタムフィールド
+ function add_workstyle_cases_meta_box($post_type, $post) {
+     if ($post_type === 'page' && $post && $post->post_name === 'recruit') {
+         add_meta_box(
+             'workstyle_cases_meta_box',
+             '多様な働き方リンク設定',
+             'workstyle_cases_meta_box_callback',
+             'page',
+             'normal',
+             'high'
+         );
+     }
+ }
+ add_action('add_meta_boxes', 'add_workstyle_cases_meta_box', 10, 2);
+ 
+ function workstyle_cases_meta_box_callback($post) {
+     wp_nonce_field('workstyle_cases_meta_box', 'workstyle_cases_meta_box_nonce');
+     
+     // メタデータから現在のリンク情報を取得
+     $workstyle_case_1_url = get_post_meta($post->ID, '_workstyle_case_1_url', true);
+     $workstyle_case_2_url = get_post_meta($post->ID, '_workstyle_case_2_url', true);
+     $workstyle_case_3_url = get_post_meta($post->ID, '_workstyle_case_3_url', true);
+     $workstyle_case_4_url = get_post_meta($post->ID, '_workstyle_case_4_url', true);
+     ?>
+     <div class="workstyle-cases-meta-box">
+         <p><strong>多様な働き方セクションの各ケースにリンクを設定できます。</strong></p>
+         <p>URLを入力しない場合は、その項目はリンクされません。</p>
+         
+         <table class="form-table">
+             <tr>
+                 <th scope="row">
+                     <label for="workstyle_case_1_url">ケース1：業務委託でコアメンバーに</label>
+                 </th>
+                 <td>
+                     <input type="url" 
+                            id="workstyle_case_1_url" 
+                            name="workstyle_case_1_url" 
+                            value="<?php echo esc_url($workstyle_case_1_url); ?>" 
+                            class="regular-text" 
+                            placeholder="https://example.com" />
+                     <p class="description">このケースのリンク先URLを入力してください</p>
+                 </td>
+             </tr>
+             <tr>
+                 <th scope="row">
+                     <label for="workstyle_case_2_url">ケース2：いまの私に必要なことを、想いのままに</label>
+                 </th>
+                 <td>
+                     <input type="url" 
+                            id="workstyle_case_2_url" 
+                            name="workstyle_case_2_url" 
+                            value="<?php echo esc_url($workstyle_case_2_url); ?>" 
+                            class="regular-text" 
+                            placeholder="https://example.com" />
+                     <p class="description">このケースのリンク先URLを入力してください</p>
+                 </td>
+             </tr>
+             <tr>
+                 <th scope="row">
+                     <label for="workstyle_case_3_url">ケース3：自分の会社とホームインスペクター、両方の経験が相互に活きる</label>
+                 </th>
+                 <td>
+                     <input type="url" 
+                            id="workstyle_case_3_url" 
+                            name="workstyle_case_3_url" 
+                            value="<?php echo esc_url($workstyle_case_3_url); ?>" 
+                            class="regular-text" 
+                            placeholder="https://example.com" />
+                     <p class="description">このケースのリンク先URLを入力してください</p>
+                 </td>
+             </tr>
+             <tr>
+                 <th scope="row">
+                     <label for="workstyle_case_4_url">ケース4：独立して、本音で顧客と向き合えるマンションの専門家へ</label>
+                 </th>
+                 <td>
+                     <input type="url" 
+                            id="workstyle_case_4_url" 
+                            name="workstyle_case_4_url" 
+                            value="<?php echo esc_url($workstyle_case_4_url); ?>" 
+                            class="regular-text" 
+                            placeholder="https://example.com" />
+                     <p class="description">このケースのリンク先URLを入力してください</p>
+                 </td>
+             </tr>
+         </table>
+     </div>
+     <?php
+ }
+ 
+ // 多様な働き方メタデータを保存する関数
+ function save_workstyle_cases_meta($post_id) {
+     // nonce確認
+     if (!isset($_POST['workstyle_cases_meta_box_nonce']) || 
+         !wp_verify_nonce($_POST['workstyle_cases_meta_box_nonce'], 'workstyle_cases_meta_box')) {
+         return;
+     }
+ 
+     // 自動保存の場合はスキップ
+     if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) {
+         return;
+     }
+ 
+     // 権限チェック
+     if (!current_user_can('edit_post', $post_id)) {
+         return;
+     }
+ 
+     // 各ケースのURLを保存
+     $case_urls = array(
+         '_workstyle_case_1_url' => 'workstyle_case_1_url',
+         '_workstyle_case_2_url' => 'workstyle_case_2_url',
+         '_workstyle_case_3_url' => 'workstyle_case_3_url',
+         '_workstyle_case_4_url' => 'workstyle_case_4_url',
+     );
+ 
+     foreach ($case_urls as $meta_key => $form_field) {
+         if (isset($_POST[$form_field])) {
+             $url = esc_url_raw($_POST[$form_field]);
+             update_post_meta($post_id, $meta_key, $url);
+         } else {
+             delete_post_meta($post_id, $meta_key);
+         }
+     }
+ }
+ add_action('save_post', 'save_workstyle_cases_meta');
+ 
+ // 多様な働き方のリンクURLを取得する関数
+ function get_workstyle_case_urls() {
+     // 採用ページのIDを取得
+     $recruit_page = get_page_by_path('recruit');
+     if (!$recruit_page) {
+         return array();
+     }
+ 
+     return array(
+         1 => get_post_meta($recruit_page->ID, '_workstyle_case_1_url', true),
+         2 => get_post_meta($recruit_page->ID, '_workstyle_case_2_url', true),
+         3 => get_post_meta($recruit_page->ID, '_workstyle_case_3_url', true),
+         4 => get_post_meta($recruit_page->ID, '_workstyle_case_4_url', true),
+     );
+ }
  
  
```

</details>

---

## Todo List

- [x] page-recruit.phpを確認してrecruit-workstyleセクションの構造を把握
- [x] functions.phpにカスタムフィールドを追加
- [-] recruit-workstyle__caseにリンク機能を実装
- [ ] SCSSでリンクスタイリングを追加

---

カスタムフィールドの追加が完了しました。次に、page-recruit.phpでリンク機能を実装します。

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/page-recruit.php</summary>

undefined

**Chunk 1**
Lines added: 8, lines removed: undefined

```diff
@@ -757,6 +757,14 @@
              <h2 class="recruit-workstyle__title">さくら事務所グループの働き方</h2>
              <div class="recruit-workstyle__cases">
+                 <?php 
+                 // 多様な働き方のリンクURLを取得
+                 $workstyle_urls = get_workstyle_case_urls();
+                 ?>
                  <!-- 1 -->
+                 <?php if (!empty($workstyle_urls[1])) : ?>
+                 <a href="<?php echo esc_url($workstyle_urls[1]); ?>" class="recruit-workstyle__case recruit-workstyle__case--link" target="_blank" rel="noopener noreferrer">
+                 <?php else : ?>
                  <div class="recruit-workstyle__case">
+                 <?php endif; ?>
                      <div class="recruit-workstyle__case-image">
                          <img src="<?php echo get_template_directory_uri(); ?>/images/recruit-sakura-img1.webp" alt="多様な働き方">
```

**Chunk 2**
Lines added: 17, lines removed: 2

```diff
@@ -766,8 +774,23 @@
                          <p>業務委託でコアメンバーに</p>
                      </div>
-                   
-                 </div>
+                     <?php if (!empty($workstyle_urls[1])) : ?>
+                     <div class="recruit-workstyle__case-link-icon">
+                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
+                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
+                         </svg>
+                     </div>
+                     <?php endif; ?>
+                 <?php if (!empty($workstyle_urls[1])) : ?>
+                 </a>
+                 <?php else : ?>
+                 </div>
+                 <?php endif; ?>
+                 
                  <!-- 2 -->
+                 <?php if (!empty($workstyle_urls[2])) : ?>
+                 <a href="<?php echo esc_url($workstyle_urls[2]); ?>" class="recruit-workstyle__case recruit-workstyle__case--link" target="_blank" rel="noopener noreferrer">
+                 <?php else : ?>
                  <div class="recruit-workstyle__case">
+                 <?php endif; ?>
                      <div class="recruit-workstyle__case-image">
                          <img src="<?php echo get_template_directory_uri(); ?>/images/recruit-sakura-img2.webp" alt="多様な働き方">
```

**Chunk 3**
Lines added: 17, lines removed: 2

```diff
@@ -778,8 +801,23 @@
                          <p>想いのままに</p>
                      </div>
-                   
-                 </div>
+                     <?php if (!empty($workstyle_urls[2])) : ?>
+                     <div class="recruit-workstyle__case-link-icon">
+                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
+                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
+                         </svg>
+                     </div>
+                     <?php endif; ?>
+                 <?php if (!empty($workstyle_urls[2])) : ?>
+                 </a>
+                 <?php else : ?>
+                 </div>
+                 <?php endif; ?>
+                 
                  <!-- 3 -->
+                 <?php if (!empty($workstyle_urls[3])) : ?>
+                 <a href="<?php echo esc_url($workstyle_urls[3]); ?>" class="recruit-workstyle__case recruit-workstyle__case--link" target="_blank" rel="noopener noreferrer">
+                 <?php else : ?>
                  <div class="recruit-workstyle__case">
+                 <?php endif; ?>
                      <div class="recruit-workstyle__case-image">
                          <img src="<?php echo get_template_directory_uri(); ?>/images/recruit-sakura-img3.webp" alt="多様な働き方">
```

**Chunk 4**
Lines added: 34, lines removed: 9

```diff
@@ -790,18 +828,43 @@
                          <p>両方の経験が相互に活きる</p>
                      </div>
-                   
-                 </div>
+                     <?php if (!empty($workstyle_urls[3])) : ?>
+                     <div class="recruit-workstyle__case-link-icon">
+                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
+                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
+                         </svg>
+                     </div>
+                     <?php endif; ?>
+                 <?php if (!empty($workstyle_urls[3])) : ?>
+                 </a>
+                 <?php else : ?>
+                 </div>
+                 <?php endif; ?>
+                 
                  <!-- 4 -->
+                 <?php if (!empty($workstyle_urls[4])) : ?>
+                 <a href="<?php echo esc_url($workstyle_urls[4]); ?>" class="recruit-workstyle__case recruit-workstyle__case--link" target="_blank" rel="noopener noreferrer">
+                 <?php else : ?>
                  <div class="recruit-workstyle__case">
+                 <?php endif; ?>
                      <div class="recruit-workstyle__case-image">
                          <img src="<?php echo get_template_directory_uri(); ?>/images/recruit-sakura-img4.webp" alt="多様な働き方">
                      </div>
-                             <div class="recruit-workstyle__case-text-top">
-                                 <p>【業務委託】独立して、</p>
-                                 <p>本音で顧客と向き合える</p>
-                                 <p>マンションの専門家へ</p>
-                             </div>
-                   
-                 </div>
+                     <div class="recruit-workstyle__case-text-top">
+                         <p>【業務委託】独立して、</p>
+                         <p>本音で顧客と向き合える</p>
+                         <p>マンションの専門家へ</p>
+                     </div>
+                     <?php if (!empty($workstyle_urls[4])) : ?>
+                     <div class="recruit-workstyle__case-link-icon">
+                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
+                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
+                         </svg>
+                     </div>
+                     <?php endif; ?>
+                 <?php if (!empty($workstyle_urls[4])) : ?>
+                 </a>
+                 <?php else : ?>
+                 </div>
+                 <?php endif; ?>
              </div>
      </section>
```

</details>

---

## Todo List

- [x] page-recruit.phpを確認してrecruit-workstyleセクションの構造を把握
- [x] functions.phpにカスタムフィールドを追加
- [x] recruit-workstyle__caseにリンク機能を実装
- [-] SCSSでリンクスタイリングを追加

---

リンク機能の実装が完了しました。次にSCSSでリンクのスタイリングを追加します。

---

Read file: undefined

---

recruit-workstyleに関連するスタイルを探すために、ファイル内でrecruit-workstyleを検索します。

---



---

recruit-workstyleセクションのスタイルを確認できました。リンク機能用のスタイルを追加します。

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/sass/base/_recruit.scss</summary>

undefined

**Chunk 1**
Lines added: 27, lines removed: undefined

```diff
@@ -2428,4 +2428,31 @@
  .recruit-workstyle__case {
    position: relative;
+   display: block;
+   text-decoration: none;
+   color: inherit;
+   transition: all 0.3s ease;
+   
+   // リンクありの場合のスタイル
+   &.recruit-workstyle__case--link {
+     cursor: pointer;
+     
+     &:hover {
+       transform: translateY(-5px);
+       box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
+       
+       .recruit-workstyle__case-link-icon {
+         transform: translate(5px, -5px);
+         opacity: 1;
+       }
+       
+       .recruit-workstyle__case-image img {
+         transform: scale(1.05);
+       }
+     }
+     
+     &:active {
+       transform: translateY(-2px);
+     }
+   }
  }
  
```

</details>

---

次に、リンクアイコンのスタイルを追加します。

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/sass/base/_recruit.scss</summary>

undefined

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -2461,4 +2461,5 @@
  height: auto;
  aspect-ratio: 768/350;
+ overflow: hidden;
  @include mq(md) {
    aspect-ratio: 394/260;
```

**Chunk 2**
Lines added: 36, lines removed: undefined

```diff
@@ -2468,4 +2469,40 @@
      height: 100%;
      object-fit: cover;
+     transition: transform 0.3s ease;
+   }
+ }
+ 
+ // リンクアイコンのスタイル
+ .recruit-workstyle__case-link-icon {
+   position: absolute;
+   top: 20px;
+   right: 20px;
+   width: 48px;
+   height: 48px;
+   background: rgba(255, 255, 255, 0.9);
+   border-radius: 50%;
+   display: flex;
+   align-items: center;
+   justify-content: center;
+   opacity: 0.8;
+   transition: all 0.3s ease;
+   backdrop-filter: blur(10px);
+   
+   @include mq(md) {
+     width: 40px;
+     height: 40px;
+     top: 15px;
+     right: 15px;
+   }
+   
+   svg {
+     width: 24px;
+     height: 24px;
+     color: #282633;
+     
+     @include mq(md) {
+       width: 20px;
+       height: 20px;
+     }
    }
  }
```

</details>

---

SCSSのコンパイルを実行して、CSSファイルを更新します。

---

```bash
cd /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2 && npm run css
```

```

npm error Missing script: "css"
npm error
npm error To see a list of scripts, run:
npm error   npm run
npm error A complete log of this run can be found in: /Users/imayamakanta/.npm/_
logs/2025-08-09T01_02_24_415Z-debug-0.log
                                                        
```

---

package.jsonを確認してコンパイルコマンドを見つけます。

---

Read file: undefined

---

```bash
npm run sass
```

```


> sass
> sass sass/style.scss css/style.css --style compressed

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
172 │     background-color: darken(#fff, 10%);
    │                       ^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_staff.scss 172:23  @use
    sass/style.scss 6:1           root stylesheet

Deprecation Warning [color-functions]: darken() is deprecated. Suggestions:

color.scale($color, $lightness: -10%)
color.adjust($color, $lightness: -10%)

More info: https://sass-lang.com/d/color-functions

    ╷
172 │     background-color: darken(#fff, 10%);
    │                       ^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_staff.scss 172:23  @use
    sass/style.scss 6:1           root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
132 │       background-color: darken($dark-blue, 10%);
    │                         ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 132:25  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [color-functions]: darken() is deprecated. Suggestions:

color.scale($color, $lightness: -85%)
color.adjust($color, $lightness: -10%)

More info: https://sass-lang.com/d/color-functions

    ╷
132 │       background-color: darken($dark-blue, 10%);
    │                         ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 132:25  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
566 │         color: darken($dark-blue, 15%);
    │                ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 566:16  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [color-functions]: darken() is deprecated. Suggestions:

color.scale($color, $lightness: -100%)
color.adjust($color, $lightness: -15%)

More info: https://sass-lang.com/d/color-functions

    ╷
566 │         color: darken($dark-blue, 15%);
    │                ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 566:16  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
628 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
    │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 628:56  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [color-functions]: lighten() is deprecated. Suggestions:

color.scale($color, $lightness: 11.3333333333%)
color.adjust($color, $lightness: 10%)

More info: https://sass-lang.com/d/color-functions

    ╷
628 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
    │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 628:56  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

     ╷
1019 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
     │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
     ╵
    sass/base/_news.scss 1019:56  @use
    sass/style.scss 17:1          root stylesheet

Deprecation Warning [color-functions]: lighten() is deprecated. Suggestions:

color.scale($color, $lightness: 11.3333333333%)
color.adjust($color, $lightness: 10%)

More info: https://sass-lang.com/d/color-functions

     ╷
1019 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
     │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
     ╵
    sass/base/_news.scss 1019:56  @use
    sass/style.scss 17:1          root stylesheet

Warning: 4 repetitive deprecation warnings omitted.
Run in verbose mode to see all warnings.

```

---

CSSのコンパイルが完了しました。警告はありますが、エラーはありません。リントをチェックしてみます。

---



---

リンターの警告は主にWordPressの関数に関するものなので、問題ありません。最後にTODOを完了にします。

---

## Todo List

- [x] page-recruit.phpを確認してrecruit-workstyleセクションの構造を把握
- [x] functions.phpにカスタムフィールドを追加
- [x] recruit-workstyle__caseにリンク機能を実装
- [x] SCSSでリンクスタイリングを追加

---

◤◢◤◢◤◢◤◢◤◢◤◢◤◢
✅ 多様な働き方セクションのリンク機能実装が完了しました！
◤◢◤◢◤◢◤◢◤◢◤◢◤◢

## 実装内容

### 1. カスタムフィールドの追加（functions.php）
- 採用ページ専用の「多様な働き方リンク設定」メタボックスを追加
- 4つのケース（working style case 1-4）それぞれにURL設定フィールドを作成
- データの保存・取得機能を実装

### 2. リンク機能の実装（page-recruit.php）
- カスタムフィールドからリンクURLを取得
- URLが設定されている場合は`<a>`タグ、未設定の場合は`<div>`タグとして表示
- 外部リンク用の`target="_blank" rel="noopener noreferrer"`属性を追加
- リンクアイコン（矢印）をリンクがある場合のみ表示

### 3. スタイリングの追加（_recruit.scss）
- リンクありの場合のホバーエフェクト（上に浮く、影の追加）
- 画像の拡大エフェクト
- リンクアイコンのスタイリング（右上に配置、半透明の白い円形背景）
- レスポンシブ対応

## 使用方法

1. WordPressの管理画面で「採用」ページを編集
2. 「多様な働き方リンク設定」メタボックスで各ケースのURLを入力
3. URLを入力したケースがクリック可能なリンクになります
4. URLが未入力のケースは通常の表示のまま

リンクが設定されたケースには視覚的な表示（アイコンとホバーエフェクト）で、ユーザーにクリック可能であることを伝えます。

---

_**User**_

右上の矢印はいらないです

---

_**Assistant**_

◤◢◤◢◤◢◤◢◤◢◤◢◤◢
右上の矢印アイコンを削除します。
◤◢◤◢◤◢◤◢◤◢◤◢◤◢

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/page-recruit.php</summary>

undefined

**Chunk 1**
Lines added: 1, lines removed: 7

```diff
@@ -774,11 +774,5 @@
                          <p>業務委託でコアメンバーに</p>
                      </div>
-                     <?php if (!empty($workstyle_urls[1])) : ?>
-                     <div class="recruit-workstyle__case-link-icon">
-                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
-                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
-                         </svg>
-                     </div>
-                     <?php endif; ?>
+ 
                  <?php if (!empty($workstyle_urls[1])) : ?>
                  </a>
```

</details>

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/page-recruit.php</summary>

undefined

**Chunk 1**
Lines added: 1, lines removed: 7

```diff
@@ -795,11 +795,5 @@
                          <p>想いのままに</p>
                      </div>
-                     <?php if (!empty($workstyle_urls[2])) : ?>
-                     <div class="recruit-workstyle__case-link-icon">
-                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
-                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
-                         </svg>
-                     </div>
-                     <?php endif; ?>
+ 
                  <?php if (!empty($workstyle_urls[2])) : ?>
                  </a>
```

</details>

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/page-recruit.php</summary>

undefined

**Chunk 1**
Lines added: 1, lines removed: 7

```diff
@@ -816,11 +816,5 @@
                          <p>両方の経験が相互に活きる</p>
                      </div>
-                     <?php if (!empty($workstyle_urls[3])) : ?>
-                     <div class="recruit-workstyle__case-link-icon">
-                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
-                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
-                         </svg>
-                     </div>
-                     <?php endif; ?>
+ 
                  <?php if (!empty($workstyle_urls[3])) : ?>
                  </a>
```

</details>

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/page-recruit.php</summary>

undefined

**Chunk 1**
Lines added: 1, lines removed: 7

```diff
@@ -837,11 +837,5 @@
                          <p>マンションの専門家へ</p>
                      </div>
-                     <?php if (!empty($workstyle_urls[4])) : ?>
-                     <div class="recruit-workstyle__case-link-icon">
-                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
-                             <path d="M7 17L17 7M17 7H7M17 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
-                         </svg>
-                     </div>
-                     <?php endif; ?>
+ 
                  <?php if (!empty($workstyle_urls[4])) : ?>
                  </a>
```

</details>

---

次に、SCSSからもリンクアイコンのスタイルを削除し、ホバーエフェクトからもアイコン関連の部分を削除します。

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/sass/base/_recruit.scss</summary>

undefined

**Chunk 1**
Lines added: undefined, lines removed: 5

```diff
@@ -2440,9 +2440,4 @@
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
-       
-       .recruit-workstyle__case-link-icon {
-         transform: translate(5px, -5px);
-         opacity: 1;
-       }
        
        .recruit-workstyle__case-image img {
```

</details>

---

<details><summary>Edit file: /Users/imayamakanta/Studio/さくら事務所ーwp/wp-content/themes/sakura-wordpress2/sass/base/_recruit.scss</summary>

undefined

**Chunk 1**
Lines added: 1, lines removed: 34

```diff
@@ -2468,38 +2468,5 @@
  }
  
- // リンクアイコンのスタイル
- .recruit-workstyle__case-link-icon {
-   position: absolute;
-   top: 20px;
-   right: 20px;
-   width: 48px;
-   height: 48px;
-   background: rgba(255, 255, 255, 0.9);
-   border-radius: 50%;
-   display: flex;
-   align-items: center;
-   justify-content: center;
-   opacity: 0.8;
-   transition: all 0.3s ease;
-   backdrop-filter: blur(10px);
-   
-   @include mq(md) {
-     width: 40px;
-     height: 40px;
-     top: 15px;
-     right: 15px;
-   }
-   
-   svg {
-     width: 24px;
-     height: 24px;
-     color: #282633;
-     
-     @include mq(md) {
-       width: 20px;
-       height: 20px;
-     }
-   }
- }
+ 
  
  .recruit-workstyle__case-text {
```

</details>

---

SCSSをコンパイルしてCSSを更新します。

---

```bash
npm run sass
```

```


> sass
> sass sass/style.scss css/style.css --style compressed

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
172 │     background-color: darken(#fff, 10%);
    │                       ^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_staff.scss 172:23  @use
    sass/style.scss 6:1           root stylesheet

Deprecation Warning [color-functions]: darken() is deprecated. Suggestions:

color.scale($color, $lightness: -10%)
color.adjust($color, $lightness: -10%)

More info: https://sass-lang.com/d/color-functions

    ╷
172 │     background-color: darken(#fff, 10%);
    │                       ^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_staff.scss 172:23  @use
    sass/style.scss 6:1           root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
132 │       background-color: darken($dark-blue, 10%);
    │                         ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 132:25  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [color-functions]: darken() is deprecated. Suggestions:

color.scale($color, $lightness: -85%)
color.adjust($color, $lightness: -10%)

More info: https://sass-lang.com/d/color-functions

    ╷
132 │       background-color: darken($dark-blue, 10%);
    │                         ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 132:25  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
566 │         color: darken($dark-blue, 15%);
    │                ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 566:16  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [color-functions]: darken() is deprecated. Suggestions:

color.scale($color, $lightness: -100%)
color.adjust($color, $lightness: -15%)

More info: https://sass-lang.com/d/color-functions

    ╷
566 │         color: darken($dark-blue, 15%);
    │                ^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 566:16  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

    ╷
628 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
    │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 628:56  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [color-functions]: lighten() is deprecated. Suggestions:

color.scale($color, $lightness: 11.3333333333%)
color.adjust($color, $lightness: 10%)

More info: https://sass-lang.com/d/color-functions

    ╷
628 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
    │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    sass/base/_news.scss 628:56  @use
    sass/style.scss 17:1         root stylesheet

Deprecation Warning [global-builtin]: Global built-in functions are deprecated and will be removed in Dart S
ass 3.0.0.

Use color.adjust instead.

More info and automated migrator: https://sass-lang.com/d/import

     ╷
1019 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
     │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
     ╵
    sass/base/_news.scss 1019:56  @use
    sass/style.scss 17:1          root stylesheet

Deprecation Warning [color-functions]: lighten() is deprecated. Suggestions:

color.scale($color, $lightness: 11.3333333333%)
color.adjust($color, $lightness: 10%)

More info: https://sass-lang.com/d/color-functions

     ╷
1019 │     background: linear-gradient(135deg, $dark-blue 0%, lighten($dark-blue, 10%) 100%);
     │                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
     ╵
    sass/base/_news.scss 1019:56  @use
    sass/style.scss 17:1          root stylesheet

Warning: 4 repetitive deprecation warnings omitted.
Run in verbose mode to see all warnings.

```

---

◤◢◤◢◤◢◤◢◤◢◤◢◤◢
✅ 右上の矢印アイコンを削除しました！
◤◢◤◢◤◢◤◢◤◢◤◢◤◢

## 変更内容

### 1. page-recruit.phpから削除
- 4つのケース全てから矢印アイコンのHTMLを削除

### 2. _recruit.scssから削除  
- `.recruit-workstyle__case-link-icon`のスタイル定義を削除
- ホバーエフェクトからアイコン関連のアニメーションを削除

### 3. 残った機能
- リンク機能は引き続き動作
- ホバーエフェクト（上に浮く、影の追加、画像拡大）は維持
- カスタムフィールドでの設定機能は維持

これで多様な働き方セクションは、矢印アイコンなしでリンク機能を持つようになりました。URLが設定されているケースはホバーエフェクトで視覚的にクリック可能であることが分かります。

---

